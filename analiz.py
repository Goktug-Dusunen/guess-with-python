import matplotlib.pyplot as plt
import numpy as np
from statsmodels.tsa.arima.model import ARIMA

numbers=[23,17,29,31,78,39,81,56,83,50,96,67,2,12,68,89,35,60,92,99,71,32,88,23,24,47,74,42,69,52,94,86,24,75,36,58,9,63,11,38,91,21,80,12,96,67,27,65,19,46,91,13,70,78,71,62,71,47,59,77,62,83,55,11,55,93,48,98,94,31,96,90,21,87,97,10,80,40,29,36,68,89,74,94,9,65,19,83,86,18,94,86,3,40,14,64,70,23,86,64,39,92,77,38,33,36,5,65,47,67,27,22,96,61,30,51,12,45,48,6,84,61,38,98,36,12,51,53,62,33,70,62,50,45,63,7,21,57,52,36,75,79,26,47,35,18,96,7,84,61,6,26,6,43,50,82,6,66,58,53,51,95,6,96,38,33,94,26,79,29,16,74,86,57,47,35,79,68,75,90,30,43,73,77,57,10,66,18,54,96,27,75,87,87,35,13,39,34,26,74,49,93,9,94,71,23,60,52,71,73,33,83,48,8,26,60,80,67,9,90,61,98,44,31,76,14,48,64,22,84,89,55,83,30,78,32,7,79,62,3,47,62,69,49,85,79,86,19,80,67,38,33,69,79,27,74,61,93,85,58,26,31,43,22,70,47,30,93,71,52,71,50,71,32,71,23,43,31,56,63,9,33,86,91,18,65,34,11,74,64,43,23,55,55,22,90,9,47,43,30,83,31,47,39,33,49,7,93,89,96,6,79,66,67,59,67,76,56,69,79,54,95,35,93,69,77,19,29,75,62,57,90,36,94,50,12,51,85,84,61,11,19,59,61,29,78,54,83,49,27,86,96,82,35,33,47,21,68,78,54,19,70,24,33,34,44,98,61,74,69,24,56,54,95,12,65,66,63]
predicted = []

for i in range(8):
    model = ARIMA(numbers, order=(1,1,0))
    model_fit = model.fit()
    next_num = model_fit.get_forecast(steps=1).predicted_mean[0]
    predicted.append(next_num)
    numbers.append(next_num)

plt.plot(range(len(numbers)), numbers, 'o', label='Actual')
plt.plot(range(len(numbers)-8, len(numbers)), predicted, 'o', label='Predicted')
plt.legend()
plt.title('Actual vs Predicted Numbers')
plt.xlabel('Time Step')
plt.ylabel('Value')
plt.show()

with open("log.txt", "w") as f:
    f.write("Predicted Numbers: " + str(predicted))
